####################################### Shell script to calculate all the feature values ###################################

test_or_train_option=$1

DATA_PATH='data/'
SCRIPT_PATH='scripts/'
MALLET_PATH='mallet-2.0.7/'
DICT_PATH=''
dictionaryFile='data/NRC-Emotion-Lexicon-v0.92/NRC-emotion-lexicon-wordlevel-alphabetized-v0.92.txt'

inputFileStep6=$data_path'input_step6'$test_or_train_option'.txt'
inputFileStep7=$data_path'input_step7'$test_or_train_option'.txt'
inputFileStep8=$data_path'input_step8'$test_or_train_option'.txt'

indPolarityFileName='data/step6_PolInd'$test_or_train_option'.txt' 
posNegPolarityFileName='data/step6_PolPosNeg'$test_or_train_option'.txt'
totalPolarityFileName='data/step6_PolTotal'$test_or_train_option'.txt'


unigramFeatureFileName=$DATA_PATH'step6_UnigramFeatureOutput'$test_or_train_option'.txt'
bigramFeatureFileName=$DATA_PATH'step6_BigramFeatureOutput'$test_or_train_option'.txt'
trigramFeatureFileName=$DATA_PATH'step6_TrigramFeatureOutput'$test_or_train_option'.txt'

extractPolarityFeaturesScript=$data_path'step6_ExtractPolarityFeatures.py'

python $SCRIPT_PATH'step6_ExtractEmoticonFeatures.py' $DATA_PATH'input_step5'$test_or_train_option'.txt' $DATA_PATH'step6_EmoticonFeatureValues'$test_or_train_option'.txt' $DATA_PATH'input_step6'$test_or_train_option'.txt' '49104'

echo 'Done with extracting Emoticon Feature values'

python $SCRIPT_PATH'step6_FindNGramFeatureValues.py' $DATA_PATH'input_step6'$test_or_train_option'.txt' $DATA_PATH'unigramFeatures.txt' $DATA_PATH'bigramFeatures.txt' $DATA_PATH'trigramFeatures.txt' $unigramFeatureFileName $bigramFeatureFileName $trigramFeatureFileName

#> $DATA_PATH'step6_NGramFeatureValues'$test_or_train_option'.txt'

echo 'Done with extracting NGram Feature values'

python $SCRIPT_PATH'step6_FormMalletInput.py' $DATA_PATH'input_step6'$test_or_train_option'.txt' > $DATA_PATH'step6_Mallet_Input'$test_or_train_option'.txt'

echo 'Done with creating Mallet input'

#$MALLET_PATH'bin/mallet' import-file --input $DATA_PATH'step6_Mallet_Input'$test_or_train_option'.txt' --output $DATA_PATH'step6_Mallet_Input'$test_or_train_option'.mallet' --keep-sequence --remove-stopwords

#echo 'Input file with .mallet format is created'

#$MALLET_PATH'bin/mallet' train-topics --input $DATA_PATH'step6_Mallet_Input'$test_or_train_option'.mallet' --num-topics 100 --output-state $DATA_PATH'step6_Mallet_Topic_State'$test_or_train_option'.gz' --output-topic-keys $DATA_PATH'step6_Mallet_Output_Keys'$test_or_train_option'.txt' --output-doc-topics $DATA_PATH'step6_Mallet_Output'$test_or_train_option'.txt'

#echo 'Done with topic modelling with mallet'

#python $SCRIPT_PATH'step6_ExtractTopicFeatureValues.py' '49120' $DATA_PATH'step6_Mallet_Output'$test_or_train_option'.txt' > $DATA_PATH'step6_TopicFeatureValues'$test_or_train_option'.txt'

#echo 'Extracted topic features usign mallet'

#python $extractPolarityFeaturesScript $dictionaryFile $inputFileStep6 49220 $indPolarityFileName $posNegPolarityFileName $totalPolarityFileName
